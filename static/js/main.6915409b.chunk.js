(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n(85)},46:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(35),i=n.n(r),l=(n(46),n(5)),s=n(6),c=n(8),d=n(7),u=n(9),p=n(3),m=n(23),b=n(4),f=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.list,n=t.id,r=t.listName;return a.a.createElement("div",{key:n},a.a.createElement("button",{onClick:function(){e.props.popupSwitch("block",r,n)}},"Add to ",r),a.a.createElement("button",{className:"close-buttons",onClick:function(){e.props.confirmDeletePopup("block",n)}},"X"),a.a.createElement("h1",null,r),a.a.createElement(b.c,{droppableId:n},function(r,i){return a.a.createElement("div",{className:"my-lists",ref:r.innerRef,style:(l=i.isDraggingOver,{background:l?"lightblue":"lightgrey",padding:"8px",width:"250px",height:"370px",border:"1px solid black",overflow:"auto"})},t.items.map(function(t,r){return a.a.createElement(o.Fragment,{key:r},t?a.a.createElement(b.b,{key:t.id,draggableId:t.id,index:r},function(o,r){return a.a.createElement("div",Object.assign({className:"item-style",ref:o.innerRef},o.draggableProps,o.dragHandleProps,{style:(i=r.isDragging,l=o.draggableProps.style,Object(p.a)({userSelect:"none",padding:"16px",margin:"0 0 4px 0",border:"1px solid black",width:"200px",background:i?"lightgreen":"grey"},l))}),a.a.createElement("button",{className:"close-buttons",onClick:function(){e.props.confirmDeletePopup("block",n,t.id)}},"X"),t.content);var i,l}):a.a.createElement("div",{className:"no-items"}))}),r.placeholder);var l}))}}]),t}(o.Component),g=function(e,t){document.querySelector(e).addEventListener("keypress",function(n){if("Enter"===n.key){var o=document.querySelector(e).value;if("#list-name-input"===e)t(o);else{var a=document.querySelector("#list-id").textContent;t(a,o)}}})},y=function(e,t,n){var o,a=(o=e.items?Array.from(e.items):Array.from(e)).splice(t,1),r=Object(m.a)(a,1)[0];return o.splice(n,0,r),o},E=function(e,t,n,o){var a=Array.from(e.items),r=Array.from(t.items),i=a.splice(n.index,1),l=Object(m.a)(i,1)[0];r.splice(o.index,0,l);var s={};return s[n.droppableId]=a,s[o.droppableId]=r,s},v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).deleteList=function(e){n.confirmDeletePopup("none");var t=n.state.lists.filter(function(t){return t.id!==e});n.setState({lists:t})},n.createNewList=function(e){var t="droppable"+n.droppableNumber,o=n.state.lists,a={listName:e,id:t,items:[]};o.push(a),n.setState({lists:o}),n.switchListPopup("none"),n.droppableNumber++},n.deleteItem=function(e,t){n.confirmDeletePopup("none","list","item");var o=n.state.lists,a=o.find(function(t){return t.id===e}),r=a.items.filter(function(e){return e.id!==t});a.items=r,n.setState({lists:o.map(function(t){return t.id===e?a:t})})},n.addToList=function(e,t){var o=n.state.lists,a=o.find(function(t){return t.id===e}).items;a.push({id:"item-".concat(n.itemIndex),content:t}),n.itemIndex++,n.setState({lists:o.map(function(t){return t.id===e?t=Object(p.a)({},t,{items:a}):t})}),document.getElementById("item-content-input").value=""},n.getList=function(e){return n.state.lists.find(function(t){return t.id===e})},n.onDragEnd=function(e){if("COLUMN"===e.type){if(!e.destination)return;var t=y(n.state.lists,e.source.index,e.destination.index);n.setState({lists:t})}else{var o=e.source,a=e.destination;if(!a)return;if(o.droppableId===a.droppableId){var r=y(n.getList(o.droppableId),o.index,a.index);n.setState({lists:n.state.lists.map(function(e){return e.id===o.droppableId?e=Object(p.a)({},e,{items:r}):e})})}else{var i=E(n.getList(o.droppableId),n.getList(a.droppableId),o,a),l=[],s=!0,c=!1,d=void 0;try{for(var u,m=i[a.droppableId][Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var b=u.value;l.push(b)}}catch(w){c=!0,d=w}finally{try{s||null==m.return||m.return()}finally{if(c)throw d}}var f=[],g=!0,v=!1,h=void 0;try{for(var I,B=i[o.droppableId][Symbol.iterator]();!(g=(I=B.next()).done);g=!0){var k=I.value;f.push(k)}}catch(w){v=!0,h=w}finally{try{g||null==B.return||B.return()}finally{if(v)throw h}}n.setState({lists:n.state.lists.map(function(e){return e.id===o.droppableId?e=Object(p.a)({},e,{items:f}):e.id===a.droppableId?e=Object(p.a)({},e,{items:l}):e})})}}},n.switchListPopup=function(e){var t=document.getElementById("list-pop-up"),o=document.getElementById("list-name-input");"none"===e?(t.style="display: none;",o.value=""):(n.switchItemPopup("none"),t.style="display: block;",n.props.setCaretPosition("list-name-input",0))},n.switchItemPopup=function(e,t,o){var a=document.getElementById("item-pop-up"),r=document.getElementById("item-content-input");"none"===e?(a.style="display: none;",r.value=""):(n.switchListPopup("none"),document.getElementById("item-popup-title").textContent=t,document.getElementById("list-id").textContent=o,a.style="display: block;",n.props.setCaretPosition("item-content-input",0))},n.confirmDeletePopup=function(e,t,o){if(n.switchItemPopup("none"),n.switchListPopup("none"),o){var a=document.getElementById("confirm-item-delete-popup");if("none"===e)a.style="display: none;";else a.style="display: block;",document.getElementById("item-id").textContent=o,document.getElementById("item-list-id").textContent=t}else{var r=document.getElementById("confirm-list-delete-popup");if("none"===e)r.style="display: none;";else r.style="display: block;",document.getElementById("list-id").textContent=t}},n.itemIndex=0,n.droppableNumber=0,n.state={lists:[]},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(this.props.dragElement("list-pop-up"),this.props.dragElement("item-pop-up"),this.props.dragElement("confirm-item-delete-popup"),this.props.dragElement("confirm-list-delete-popup"),0===this.state.lists.length&&this.props.boardInfo.lists&&0!==this.props.boardInfo.lists.length){var e=this.props.boardInfo.lists;this.setState({lists:e})}g("#list-name-input",this.createNewList),g("#item-content-input",this.addToList)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"board-wrap"},a.a.createElement("button",{onClick:function(){e.switchListPopup("block")}},"Add list"),a.a.createElement("button",{onClick:function(){return e.props.closeBoard("".concat(e.props.boardInfo.boardId),e.state.lists)}},"Close board"),a.a.createElement("button",{onClick:function(){return e.props.saveBoard("".concat(e.props.boardInfo.boardId),e.state.lists)}},"Save board"),a.a.createElement("span",null,this.props.boardInfo.boardName),a.a.createElement(b.a,{onDragEnd:this.onDragEnd},a.a.createElement(b.c,{droppableId:"droppable",direction:"horizontal",type:"COLUMN"},function(t,n){return a.a.createElement("div",Object.assign({id:"board",ref:t.innerRef,style:(o=n.isDraggingOver,{background:o?"lightblue":"lightgrey",display:"flex",padding:"20px 8px 8px 8px",flexWrap:"no-wrap",overflow:"auto",width:"98vw",height:"90vh",border:"1px solid black",alignSelf:"center"})},t.droppableProps),e.state.lists.map(function(t,n){return a.a.createElement("div",{className:"list-wrap",key:t.id},a.a.createElement(b.b,{draggableId:t.id,index:n},function(n,o){return a.a.createElement("div",Object.assign({className:"list-style",ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(r=o.isDragging,i=n.draggableProps.style,Object(p.a)({userSelect:"none",padding:"10px 10px 0 15px",margin:"0 8px 0 0",height:"95%",width:"280px",border:"1px solid black",background:r?"lightgreen":"grey"},i))}),a.a.createElement(f,{confirmDeletePopup:e.confirmDeletePopup,popupSwitch:e.switchItemPopup,list:t}));var r,i}))}),t.placeholder);var o})),a.a.createElement("div",{id:"list-pop-up",className:"pop-ups"},a.a.createElement("button",{className:"close-buttons",onClick:function(){return e.switchListPopup("none")}},"X"),a.a.createElement("br",null),a.a.createElement("input",{id:"list-name-input",placeholder:"Enter list name"}),a.a.createElement("button",{onClick:function(){return e.createNewList("".concat(document.getElementById("list-name-input").value))}},"Create List")),a.a.createElement("div",{id:"item-pop-up",className:"pop-ups"},a.a.createElement("button",{className:"close-buttons",onClick:function(){return e.switchItemPopup("none")}},"X"),a.a.createElement("br",null),a.a.createElement("div",null,"Add item to ",a.a.createElement("span",{id:"item-popup-title"})),a.a.createElement("div",{style:{display:"none"},id:"list-id"}),a.a.createElement("input",{id:"item-content-input",placeholder:"Enter item content"}),a.a.createElement("button",{onClick:function(){return e.addToList(document.getElementById("list-id").textContent,"".concat(document.getElementById("item-content-input").value))}},"Create Item")),a.a.createElement("div",{id:"confirm-item-delete-popup",className:"pop-ups"},a.a.createElement("button",{className:"close-buttons",onClick:function(){return e.confirmDeletePopup("none","list","item")}},"X"),a.a.createElement("br",null),a.a.createElement("div",{style:{display:"none"},id:"item-id"}),a.a.createElement("div",{style:{display:"none"},id:"item-list-id"}),a.a.createElement("p",null,"Delete item?"),a.a.createElement("button",{onClick:function(){return e.deleteItem("".concat(document.getElementById("item-list-id").textContent),"".concat(document.getElementById("item-id").textContent))},id:"yes-button"},"Yes"),a.a.createElement("button",{onClick:function(){return e.confirmDeletePopup("none","list","item")}},"No")),a.a.createElement("div",{id:"confirm-list-delete-popup",className:"pop-ups"},a.a.createElement("button",{className:"close-buttons",onClick:function(){return e.confirmDeletePopup("none")}},"X"),a.a.createElement("br",null),a.a.createElement("div",{style:{display:"none"},id:"list-id"}),a.a.createElement("p",null,"Delete list?"),a.a.createElement("button",{onClick:function(){return e.deleteList("".concat(document.getElementById("list-id").textContent))},id:"yes-button"},"Yes"),a.a.createElement("button",{onClick:function(){return e.confirmDeletePopup("none")}},"No")))}}]),t}(o.Component),h=function(e){var t=0,n=0,o=0,a=0,r=function(){document.onmouseup=null,document.onmousemove=null},i=function(r){(r=r||window.event).preventDefault(),t=o-r.clientX,n=a-r.clientY,o=r.clientX,a=r.clientY,document.getElementById(e).style.top=document.getElementById(e).offsetTop-n+"px",document.getElementById(e).style.left=document.getElementById(e).offsetLeft-t+"px"},l=function(e){(e=e||window.event).preventDefault(),o=e.clientX,a=e.clientY,document.onmouseup=r,document.onmousemove=i};document.getElementById(e),document.getElementById(e).onmousedown=l},I=function(e,t){var n=document.getElementById(e);if(n.createTextRange){var o=n.createTextRange();o.move("character",t),o.select()}else n.focus(),void 0!==n.selectionStart&&n.setSelectionRange(t,t)},B=function(e,t){document.querySelector(e).addEventListener("keypress",function(n){if("Enter"===n.key){var o=document.querySelector(e).value;t(o)}})},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).createBoard=function(e){n.switchBoardPopup("none");var t=n.state.boards,o={boardId:"board-".concat(n.boardNumber),boardName:e,lists:null};t.push(o),n.setState({boards:t,currentBoard:o}),n.boardNumber++},n.saveBoard=function(e,t){var o=n.state.boards.find(function(t){return t.boardId===e});o.lists=t;var a=[];JSON.parse(localStorage.getItem("boards"))&&JSON.parse(localStorage.getItem("boards")).length>0?JSON.parse(localStorage.getItem("boards")).forEach(function(t){t.boardId===e&&(t=o),a.push(t)}):a=n.state.boards.map(function(t){return t.boardId===e?o:t});n.setState({boards:a}),localStorage.setItem("boards",JSON.stringify(a))},n.loadBoard=function(e){var t=n.state.boards.find(function(t){return t.boardId===e});n.setState({currentBoard:t})},n.closeBoard=function(e,t){var o=n.state.boards.find(function(t){return t.boardId===e});o.lists=t,n.setState({boards:n.state.boards.map(function(t){return t.boardId===e?o:t})}),n.setState({currentBoard:null})},n.deleteBoard=function(e){n.confirmBoardDeletePopup("none");var t=n.state.boards.filter(function(t){return t.boardId!==e});n.setState({boards:t}),localStorage.setItem("boards",JSON.stringify(t))},n.switchBoardPopup=function(e){var t=document.getElementById("board-pop-up"),o=document.getElementById("board-name-input");"none"===e?(t.style="display: none;",o.value=""):(B("#board-name-input",n.createBoard),t.style="display: block;",I("board-name-input",0))},n.confirmBoardDeletePopup=function(e,t){n.switchBoardPopup("none");var o=document.getElementById("confirm-board-delete-popup");"none"===e?o.style="display: none;":(o.style="display: block;",document.getElementById("board-id").textContent=t)},n.boardNumber=0,n.state={boards:[],currentBoard:null},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(h("board-pop-up"),h("confirm-board-delete-popup"),0===this.state.boards.length&&JSON.parse(localStorage.getItem("boards"))&&JSON.parse(localStorage.getItem("boards")).length>0){var e=JSON.parse(localStorage.getItem("boards")),t=e[e.length-1].boardId.slice(6);this.boardNumber=parseInt(t)+1,this.setState({boards:e})}}},{key:"render",value:function(){var e=this;if(this.state.currentBoard){var t=this.state.currentBoard;return a.a.createElement(v,{dragElement:h,closeBoard:this.closeBoard,saveBoard:this.saveBoard,boardInfo:t,setCaretPosition:I})}var n=this.state.boards.map(function(t){return a.a.createElement("div",{className:"board-names-wrap",key:t.boardId},a.a.createElement("div",{className:"board-names",onClick:function(){return e.loadBoard("".concat(t.boardId))}},t.boardName),a.a.createElement("button",{className:"close-buttons",onClick:function(){e.confirmBoardDeletePopup("block",t.boardId)}},"X"))});return a.a.createElement("div",{id:"app"},a.a.createElement("h1",null,"List-Maker"),a.a.createElement("div",null,a.a.createElement("h3",null,"Boards"),a.a.createElement("div",{id:"board-dropdown"},n.length>0?n.map(function(e){return e}):"No boards")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e.switchBoardPopup("block")}},"Create board")),a.a.createElement("div",{id:"board-pop-up",className:"pop-ups"},a.a.createElement("button",{className:"close-buttons",onClick:function(){return e.switchBoardPopup("none")}},"X"),a.a.createElement("br",null),a.a.createElement("input",{id:"board-name-input",placeholder:"Enter board name"}),a.a.createElement("button",{onClick:function(){return e.createBoard("".concat(document.getElementById("board-name-input").value))}},"Create board")),a.a.createElement("div",{id:"confirm-board-delete-popup",className:"pop-ups"},a.a.createElement("button",{className:"close-buttons",onClick:function(){return e.confirmBoardDeletePopup("none")}},"X"),a.a.createElement("br",null),a.a.createElement("div",{style:{display:"none"},id:"board-id"}),a.a.createElement("p",null,"Delete board?"),a.a.createElement("button",{onClick:function(){return e.deleteBoard("".concat(document.getElementById("board-id").textContent))},id:"yes-button"},"Yes"),a.a.createElement("button",{onClick:function(){return e.confirmBoardDeletePopup("none")}},"No")))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,2,1]]]);
//# sourceMappingURL=main.6915409b.chunk.js.map